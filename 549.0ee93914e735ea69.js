"use strict";(self.webpackChunktask_planner=self.webpackChunktask_planner||[]).push([[549],{5549:(j,h,i)=>{i.r(h),i.d(h,{PlannerModule:()=>F});var r=i(6895),u=i(433),d=i(6634),k=i(4015),g=i(5131),f=i(2655),T=i(120),t=i(1571),p=i(3900),l=i(9646),c=i(9655),m=i(4909),x=i(762),v=i(7579),Z=i(2722);function y(n,a){if(1&n&&(t.TgZ(0,"p")(1,"span",6),t._uU(2,"\u0414\u044d\u0434\u043b\u0430\u0439\u043d:"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.xi3(4,1,e.taskDate,"dd.MM.YY"),"")}}function C(n,a){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.task.description)}}let $=(()=>{class n{constructor(e){this.taskService=e,this.checked=new u.NI(!1),this.unsubscribe$=new v.x}ngOnInit(){this.taskDate=this.task.date?new Date(this.task.date):"",this.checked.setValue(this.task.checked),this.checked.valueChanges.pipe((0,Z.R)(this.unsubscribe$)).subscribe(e=>{this.taskService.editTask({...this.task,checked:e})})}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}deleteTask(){this.taskService.deleteTask(this.task.id)}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(m.M))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},decls:9,vars:4,consts:[[1,"form-check"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"formControl"],["for","flexCheckDefault",1,"form-check-label"],[4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"error"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"input",1),t.qZA(),t.TgZ(2,"div")(3,"label",2),t._uU(4),t.qZA(),t.YNc(5,y,5,4,"p",3),t.YNc(6,C,2,1,"p",3),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.deleteTask()}),t._UZ(8,"i",5),t.qZA()),2&s&&(t.xp6(1),t.Q6J("formControl",o.checked),t.xp6(3),t.hij(" ",o.task.title," "),t.xp6(1),t.Q6J("ngIf",o.task.date),t.xp6(1),t.Q6J("ngIf",o.task.description))},dependencies:[r.O5,u.Wl,u.JJ,u.oH,r.uU],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:1rem auto 3rem;align-items:center;gap:1rem;background-color:#0709178d;padding:1rem;border-radius:.5rem}"],changeDetection:0})}return n})();function A(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-task",2),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("task",e)}}function D(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0435:"),t.qZA(),t.YNc(3,A,2,1,"ng-container",1),t.ALo(4,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.overdueTasks$))}}function B(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-task",2),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("task",e)}}function Q(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435:"),t.qZA(),t.YNc(3,B,2,1,"ng-container",1),t.ALo(4,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.uncompletedTasks$))}}function b(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-task",2),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("task",e)}}function J(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435:"),t.qZA(),t.YNc(3,b,2,1,"ng-container",1),t.ALo(4,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,e.completedTasks$))}}let U=(()=>{class n{constructor(e,s){this.taskService=e,this.filterService=s}ngOnInit(){this.filter$=this.filterService.filter$,this.overdueTasks$=this.filter$.pipe((0,p.w)(e=>e===c.j.default||e===c.j.overdue||e===c.j.both?this.taskService.overdueTasks$:(0,l.of)([]))),this.uncompletedTasks$=this.filter$.pipe((0,p.w)(e=>e===c.j.default?this.taskService.uncompletedTasks$:(0,l.of)([]))),this.completedTasks$=this.filter$.pipe((0,p.w)(e=>e===c.j.default||e===c.j.completed||e===c.j.both?this.taskService.completedTasks$:(0,l.of)([])))}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(m.M),t.Y36(x.i))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list"]],decls:6,vars:9,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"task"]],template:function(s,o){1&s&&(t.YNc(0,D,5,3,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Q,5,3,"ng-container",0),t.ALo(3,"async"),t.YNc(4,J,5,3,"ng-container",0),t.ALo(5,"async")),2&s&&(t.Q6J("ngIf",t.lcZ(1,3,o.overdueTasks$).length),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,5,o.uncompletedTasks$).length),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,7,o.completedTasks$).length))},dependencies:[r.sg,r.O5,$,r.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;gap:1rem}"],changeDetection:0})}return n})();const O=[{path:T.tH.path,component:(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-planner-page"]],decls:2,vars:0,consts:[[1,"page-wrapper"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"app-task-list"),t.qZA())},dependencies:[U],styles:["[_nghost-%COMP%]{width:100%;height:100%;box-sizing:border-box}"],changeDetection:0})}return n})()}];let Y=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(O),f.Bz]})}return n})(),F=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[r.ez,Y,u.UX,k.t,g.f,d.Y]})}return n})()}}]);